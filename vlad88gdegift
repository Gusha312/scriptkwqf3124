-- –§–ê–†–ú –ú–ò–°–°–ò–ô –° –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ú –ü–û–í–¢–û–†–û–ú
local player = game.Players.LocalPlayer
local running = true

-- –¢–æ—á–∫–∏ –¥–ª—è Swamp Hollow
local swampHollowPoints = {
    CFrame.new(711.279724, 242.321991, -2263.15088),
    CFrame.new(911.279724, 242.321991, -2263.15088),
    CFrame.new(715.279724, 243.321991, -2263.15088),
    CFrame.new(911.279724, 242.321991, -2263.15088),
}

-- –¢–æ—á–∫–∏ –¥–ª—è Jungle
local junglePoints = {
    CFrame.new(2434.90479, 279.143066, -1289.48108),
    CFrame.new(2734.90479, 579.143066, -1289.48108),
    CFrame.new(2834.90479, 579.143066, -1289.48108),
    CFrame.new(2438.90479, 279.143066, -1289.48108),
}

-- –¢–æ—á–∫–∏ –¥–ª—è Pride Rocks
local prideRocksPoints = {
    CFrame.new(1990.40833, 497.999023, -281.304352),
    CFrame.new(1795, 198, -281),
    CFrame.new(1990.41833, 199.999023, -283.304352),
    CFrame.new(1795, 198, -281),
}

-- Mud —Ç–æ—á–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞
local swampHollowMudPoint = CFrame.new(711.279724, 242.321991, -2263.15088)
local jungleMudPoint = CFrame.new(2434.90479, 279.143066, -1289.48108)
local prideRocksMudPoint = CFrame.new(1795, 198, -281)

-- –£–ª—É—á—à–µ–Ω–Ω—ã–π —Ç–µ–ª–µ–ø–æ—Ä—Ç –≤ —Ç–æ—á–∫—É —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
local function teleportTo(cf)
    if not running then
        return false
    end

    local success = false
    local attempts = 0
    local maxAttempts = 3

    while not success and attempts < maxAttempts and running do
        pcall(function()
            if
                player.Character
                and player.Character:FindFirstChild('HumanoidRootPart')
            then
                player.Character.HumanoidRootPart.CFrame = cf
                success = true
            end
        end)

        if not success then
            attempts += 1
            wait(1)
        end
    end

    return success
end

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –º–∏—Å—Å–∏–π –≤ Swamp Hollow
local function allSwampHollowMissionsCompleted()
    local missions =
        game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions["Swamp Hollow"]
    return missions.TimePlayed.Value
        and missions.Sniff.Value
        and missions.EatFoodDrinkWater.Value
        and missions.DistanceTravelled.Value
        and missions.ConcealScent.Value
        and missions.AttackOrHealCreatureOrNPC.Value
end

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –º–∏—Å—Å–∏–π –≤ Jungle
local function allJungleMissionsCompleted()
    local missions =
        game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions.Jungle
    return missions.TimePlayed.Value
        and missions.Sniff.Value
        and missions.EatFoodDrinkWater.Value
        and missions.DistanceTravelled.Value
        and missions.ConcealScent.Value
        and missions.AttackOrHealCreatureOrNPC.Value
end

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –º–∏—Å—Å–∏–π –≤ Pride Rocks
local function allPrideRocksMissionsCompleted()
    local missions =
        game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions['Pride Rocks']
    return missions.TimePlayed.Value
        and missions.Sniff.Value
        and missions.EatFoodDrinkWater.Value
        and missions.DistanceTravelled.Value
        and missions.ConcealScent.Value
        and missions.AttackOrHealCreatureOrNPC.Value
end

-- –ü—Ä–æ–≤–µ—Ä–∫–∞, –µ—Å—Ç—å –ª–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –º–∏—Å—Å–∏–∏ –≤ Swamp Hollow
local function hasActiveSwampHollowMissions()
    local missions =
        game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions["Swamp Hollow"]
    return not missions.TimePlayed.Value
        or not missions.Sniff.Value
        or not missions.EatFoodDrinkWater.Value
        or not missions.DistanceTravelled.Value
        or not missions.ConcealScent.Value
        or not missions.AttackOrHealCreatureOrNPC.Value
end

-- –ü—Ä–æ–≤–µ—Ä–∫–∞, –µ—Å—Ç—å –ª–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –º–∏—Å—Å–∏–∏ –≤ Jungle
local function hasActiveJungleMissions()
    local missions =
        game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions.Jungle
    return not missions.TimePlayed.Value
        or not missions.Sniff.Value
        or not missions.EatFoodDrinkWater.Value
        or not missions.DistanceTravelled.Value
        or not missions.ConcealScent.Value
        or not missions.AttackOrHealCreatureOrNPC.Value
end

-- –ü—Ä–æ–≤–µ—Ä–∫–∞, –µ—Å—Ç—å –ª–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –º–∏—Å—Å–∏–∏ –≤ Pride Rocks
local function hasActivePrideRocksMissions()
    local missions =
        game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions['Pride Rocks']
    return not missions.TimePlayed.Value
        or not missions.Sniff.Value
        or not missions.EatFoodDrinkWater.Value
        or not missions.DistanceTravelled.Value
        or not missions.ConcealScent.Value
        or not missions.AttackOrHealCreatureOrNPC.Value
end

-- –û–∂–∏–¥–∞–Ω–∏–µ —Å–±—Ä–æ—Å–∞ –º–∏—Å—Å–∏–π
local function waitForMissionsReset()
    print("=== –í–°–ï –ú–ò–°–°–ò–ò –í–´–ü–û–õ–ù–ï–ù–´ ===")
    print("–û–∂–∏–¥–∞–µ–º —Å–±—Ä–æ—Å–∞ –º–∏—Å—Å–∏–π (5 –º–∏–Ω—É—Ç)...")
    
    local startTime = tick()
    local checkInterval = 30
    local lastCheckTime = 0
    
    while running do
        local currentTime = tick()
        
        if currentTime - lastCheckTime >= checkInterval then
            lastCheckTime = currentTime
            local elapsedMinutes = math.floor((currentTime - startTime) / 60)
            
            local swampHollowActive = hasActiveSwampHollowMissions()
            local jungleActive = hasActiveJungleMissions()
            local prideRocksActive = hasActivePrideRocksMissions()
            
            if swampHollowActive or jungleActive or prideRocksActive then
                print("‚úÖ –ú–∏—Å—Å–∏–∏ —Å–±—Ä–æ—Å–∏–ª–∏—Å—å! –ó–∞–ø—É—Å–∫–∞–µ–º —Ñ–∞—Ä–º –∑–∞–Ω–æ–≤–æ...")
                return true
            else
                print("‚è≥ –û–∂–∏–¥–∞–µ–º —Å–±—Ä–æ—Å–∞... –ü—Ä–æ—à–ª–æ " .. elapsedMinutes .. " –º–∏–Ω—É—Ç")
            end
        end
        
        wait(1)
    end
    
    return false
end

-- –§–£–ù–ö–¶–ò–Ø –î–õ–Ø MUD ROLL –° –ü–û–ò–°–ö–û–ú –ë–õ–ò–ñ–ê–ô–®–ï–ì–û MUD
local function doMudRoll(region)
    print("=== –ù–ê–ß–ò–ù–ê–ï–ú MUD ROLL –î–õ–Ø " .. region:upper() .. " ===")
    
    local mudMission
    if region == 'Swamp Hollow' then
        mudMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions["Swamp Hollow"].DistanceTravelled
    elseif region == 'Jungle' then
        mudMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions.Jungle.DistanceTravelled
    else
        mudMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions['Pride Rocks'].DistanceTravelled
    end

    if mudMission.Value then
        print("Mud Roll —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω!")
        return true
    end

    -- –¢–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä—É–µ–º—Å—è –∫ —Ç–æ—á–∫–µ Mud
    local mudPoint
    if region == 'Swamp Hollow' then
        mudPoint = swampHollowMudPoint
    elseif region == 'Jungle' then
        mudPoint = jungleMudPoint
    else
        mudPoint = prideRocksMudPoint
    end
    
    print("üìå –¢–ï–õ–ï–ü–û–†–¢–ê–¶–ò–Ø –ö MUD –¢–û–ß–ö–ï...")
    teleportTo(mudPoint)
    wait(2)

    -- –§–£–ù–ö–¶–ò–Ø –î–õ–Ø –ü–û–ò–°–ö–ê –ë–õ–ò–ñ–ê–ô–®–ï–ì–û MUD
    local function findNearestMud()
        local character = player.Character
        if not character or not character:FindFirstChild("HumanoidRootPart") then
            return nil
        end
        
        local playerPos = character.HumanoidRootPart.Position
        local nearestMud = nil
        local nearestDistance = math.huge
        
        -- –ò—â–µ–º –≤—Å–µ Mud –æ–±—ä–µ–∫—Ç—ã –≤ Interactions
        local interactions = workspace:FindFirstChild("Interactions")
        if interactions then
            local mudFolder = interactions:FindFirstChild("Mud")
            if mudFolder then
                for _, mudObject in pairs(mudFolder:GetChildren()) do
                    if mudObject:IsA("Part") or mudObject:IsA("MeshPart") then
                        local distance = (playerPos - mudObject.Position).Magnitude
                        if distance < nearestDistance then
                            nearestDistance = distance
                            nearestMud = mudObject
                        end
                    end
                end
            end
        end
        
        -- –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –≤ Interactions, –∏—â–µ–º –ø–æ –≤—Å–µ–º—É workspace
        if not nearestMud then
            local allMuds = workspace:GetDescendants()
            for _, obj in pairs(allMuds) do
                if (obj:IsA("Part") or obj:IsA("MeshPart")) and string.lower(obj.Name):find("mud") then
                    local distance = (playerPos - obj.Position).Magnitude
                    if distance < nearestDistance then
                        nearestDistance = distance
                        nearestMud = obj
                    end
                end
            end
        end
        
        if nearestMud then
            print("‚úÖ –ù–∞–π–¥–µ–Ω –±–ª–∏–∂–∞–π—à–∏–π Mud: " .. nearestMud.Name .. " (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ: " .. math.floor(nearestDistance) .. ")")
        else
            print("‚ùå Mud –æ–±—ä–µ–∫—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã")
        end
        
        return nearestMud
    end

    -- –ù–∞—Ö–æ–¥–∏–º –±–ª–∏–∂–∞–π—à–∏–π Mud
    local nearestMud = findNearestMud()
    if not nearestMud then
        print("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ Mud –æ–±—ä–µ–∫—Ç")
        return false
    end

    -- –¢–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä—É–µ–º—Å—è –±–ª–∏–∂–µ –∫ Mud –æ–±—ä–µ–∫—Ç—É
    print("üìç –¢–ï–õ–ï–ü–û–†–¢–ê–¶–ò–Ø –ö –ë–õ–ò–ñ–ê–ô–®–ï–ú–£ MUD...")
    local mudCFrame = nearestMud.CFrame + Vector3.new(0, 0, 3) -- –°—Ç–∞–Ω–æ–≤–∏–º—Å—è —Ä—è–¥–æ–º, –∞ –Ω–µ –≤–Ω—É—Ç—Ä–∏
    teleportTo(mudCFrame)
    wait(1)

    -- –ò—Å–ø–æ–ª—å–∑—É–µ–º Mud 7 —Ä–∞–∑ –ø–æ–¥—Ä—è–¥
    print("üîÑ –ò–°–ü–û–õ–¨–ó–£–ï–ú MUD 7 –†–ê–ó...")
    for i = 1, 7 do
        if not running or mudMission.Value then
            break
        end
        
        pcall(function()
            local args = { nearestMud }
            game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("Mud"):FireServer(unpack(args))
            print("üèûÔ∏è " .. region .. " Mud " .. i .. "/7")
        end)
        
        wait(1)
    end

    wait(3)
    
    if mudMission.Value then
        print("‚úÖ Mud Roll –í–´–ü–û–õ–ù–ï–ù!")
        return true
    else
        print("‚ùå Mud Roll –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º...")
        return false
    end
end

-- –§–£–ù–ö–¶–ò–Ø DISTANCE TRAVELLED
local function doDistanceTravelled(region)
    local distanceMission
    local points
    local mudPoint
    
    if region == 'Swamp Hollow' then
        distanceMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions["Swamp Hollow"].DistanceTravelled
        points = swampHollowPoints
        mudPoint = swampHollowMudPoint
    elseif region == 'Jungle' then
        distanceMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions.Jungle.DistanceTravelled
        points = junglePoints
        mudPoint = jungleMudPoint
    else
        distanceMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions['Pride Rocks'].DistanceTravelled
        points = prideRocksPoints
        mudPoint = prideRocksMudPoint
    end

    if distanceMission.Value then
        print("DistanceTravelled —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω!")
        teleportTo(mudPoint)
        return true
    end

    print("=== –ù–ê–ß–ò–ù–ê–ï–ú DISTANCE TRAVELLED –î–õ–Ø " .. region:upper() .. " ===")
    
    local cycles = 0
    local maxCycles = 20
    
    while running and not distanceMission.Value and cycles < maxCycles do
        cycles += 1
        print("üîÅ –¶–∏–∫–ª Distance: " .. cycles .. "/" .. maxCycles)
        
        for i = 1, #points do
            if not running or distanceMission.Value then
                break
            end
            
            print("üöÄ –¢–µ–ª–µ–ø–æ—Ä—Ç –∫ —Ç–æ—á–∫–µ " .. i .. " –¥–ª—è Distance")
            teleportTo(points[i])
            wait(2.5)
            
            if distanceMission.Value then
                print("‚úÖ DistanceTravelled –í–´–ü–û–õ–ù–ï–ù!")
                break
            end
        end
        
        if distanceMission.Value then
            break
        end
        
        wait(1)
    end
    
    print("üìå –¢–ï–õ–ï–ü–û–†–¢–ê–¶–ò–Ø –û–ë–†–ê–¢–ù–û –ö MUD –¢–û–ß–ö–ï...")
    teleportTo(mudPoint)
    wait(2)
    
    if distanceMission.Value then
        print("üéâ DistanceTravelled –£–°–ü–ï–®–ù–û –í–´–ü–û–õ–ù–ï–ù!")
        return true
    else
        print("‚ö†Ô∏è DistanceTravelled –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω –ø–æ—Å–ª–µ " .. maxCycles .. " —Ü–∏–∫–ª–æ–≤")
        return false
    end
end

-- –û–°–ù–û–í–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –î–õ–Ø –†–ï–ì–ò–û–ù–ê
local function doRegionQuest(region)
    local mudPoint
    if region == 'Swamp Hollow' then
        mudPoint = swampHollowMudPoint
    elseif region == 'Jungle' then
        mudPoint = jungleMudPoint
    else
        mudPoint = prideRocksMudPoint
    end
    
    print("üìç –®–ê–ì 1: –¢–ï–õ–ï–ü–û–†–¢–ê–¶–ò–Ø –ö MUD –¢–û–ß–ö–ï")
    teleportTo(mudPoint)
    wait(2)
    
    print("üìç –®–ê–ì 2: –í–´–ü–û–õ–ù–Ø–ï–ú MUD ROLL")
    doMudRoll(region)
    
    print("üìç –®–ê–ì 3: –í–´–ü–û–õ–ù–Ø–ï–ú DISTANCE TRAVELLED")
    doDistanceTravelled(region)
    
    print("üìç –®–ê–ì 4: –í–û–ó–í–†–ê–¢ –ö MUD –¢–û–ß–ö–ï")
    teleportTo(mudPoint)
    wait(2)
    
    return true
end

-- –ê—Ç–∞–∫–∞ NPC
local function attackNPC(region)
    local lastAttackTime = 0
    local attackCooldown = 5
    
    while running do
        local attackMission
        if region == 'Swamp Hollow' then
            attackMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions["Swamp Hollow"].AttackOrHealCreatureOrNPC
        elseif region == 'Jungle' then
            attackMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions.Jungle.AttackOrHealCreatureOrNPC
        else
            attackMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions['Pride Rocks'].AttackOrHealCreatureOrNPC
        end

        if attackMission.Value then
            print("üéØ –ê—Ç–∞–∫–∞ NPC —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞")
            break
        end

        local currentTime = tick()
        if currentTime - lastAttackTime >= attackCooldown then
            pcall(function()
                local args = {
                    {
                        workspace:WaitForChild("Interactions"):WaitForChild("NPCs"):WaitForChild("Roots"):WaitForChild("RootPart")
                    }
                }
                game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("NPCDamageRemote"):FireServer(unpack(args))
                print("‚öîÔ∏è –ê—Ç–∞–∫–æ–≤–∞–ª–∏ NPC")
                lastAttackTime = currentTime
            end)
        end

        wait(1)
    end
end

-- –ï–¥–∞ –∏ –≤–æ–¥–∞
local function eatAndDrink(region)
    while running do
        local eatMission
        if region == 'Swamp Hollow' then
            eatMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions["Swamp Hollow"].EatFoodDrinkWater
        elseif region == 'Jungle' then
            eatMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions.Jungle.EatFoodDrinkWater
        else
            eatMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions['Pride Rocks'].EatFoodDrinkWater
        end

        if eatMission.Value then
            break
        end

        print("üçñ –ù–∞—á–∏–Ω–∞–µ–º –µ—Å—Ç—å 25 —Ä–∞–∑...")
        pcall(function()
            local foodFolder = workspace:WaitForChild("Interactions"):WaitForChild("Food")
            local foods = foodFolder:GetChildren()
            
            for i = 1, 25 do
                if not running or eatMission.Value then
                    break
                end
                
                local food = foods[i] or foods[1]
                local args = { food }
                game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("Food"):FireServer(unpack(args))
                print("üç¥ –°—ä–µ–ª–∏ –µ–¥—É " .. i .. "/25")
                wait(0.3)
            end
        end)

        pcall(function()
            local lake = workspace:WaitForChild("Interactions"):WaitForChild("Lakes"):FindFirstChild("Lake")
            if lake then
                local args = { lake }
                game:GetService('ReplicatedStorage'):WaitForChild('Remotes'):WaitForChild('DrinkRemote'):FireServer(unpack(args))
                print("üíß –í—ã–ø–∏–ª–∏ –≤–æ–¥—É")
            end
        end)

        wait(2)
    end
end

-- Sniff –º–∏—Å—Å–∏—è
local function doSniff(region)
    while running do
        local sniffMission
        if region == 'Swamp Hollow' then
            sniffMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions["Swamp Hollow"].Sniff
        elseif region == 'Jungle' then
            sniffMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions.Jungle.Sniff
        else
            sniffMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions['Pride Rocks'].Sniff
        end

        if sniffMission.Value then
            break
        end

        pcall(function()
            local args = { 1 }
            game:GetService('ReplicatedStorage'):WaitForChild('Remotes'):WaitForChild('SetMissionRemote'):FireServer(unpack(args))
            print("üëÉ –°–Ω–∏—Ñ—Ñ –≤—ã–ø–æ–ª–Ω–µ–Ω")
        end)
        wait(2)
    end
end

-- ConcealScent –º–∏—Å—Å–∏—è
local function doConcealScent(region)
    while running do
        local concealMission
        if region == 'Swamp Hollow' then
            concealMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions["Swamp Hollow"].ConcealScent
        elseif region == 'Jungle' then
            concealMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions.Jungle.ConcealScent
        else
            concealMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions['Pride Rocks'].ConcealScent
        end

        if concealMission.Value then
            break
        end

        pcall(function()
            -- –ü–æ–∏—Å–∫ –±–ª–∏–∂–∞–π—à–µ–≥–æ Mud –¥–ª—è ConcealScent
            local character = player.Character
            if character and character:FindFirstChild("HumanoidRootPart") then
                local playerPos = character.HumanoidRootPart.Position
                local nearestMud = nil
                local nearestDistance = math.huge
                
                local interactions = workspace:FindFirstChild("Interactions")
                if interactions then
                    local mudFolder = interactions:FindFirstChild("Mud")
                    if mudFolder then
                        for _, mudObject in pairs(mudFolder:GetChildren()) do
                            if mudObject:IsA("Part") or mudObject:IsA("MeshPart") then
                                local distance = (playerPos - mudObject.Position).Magnitude
                                if distance < nearestDistance then
                                    nearestDistance = distance
                                    nearestMud = mudObject
                                end
                            end
                        end
                    end
                end
                
                if nearestMud then
                    local args = { nearestMud }
                    game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("Mud"):FireServer(unpack(args))
                    print("üåÄ ConcealScent " .. region .. " Mud (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ: " .. math.floor(nearestDistance) .. ")")
                end
            end
        end)
        wait(2)
    end
end

-- TimePlayed
local function waitForTimePlayed(region)
    while running do
        local timeMission
        if region == 'Swamp Hollow' then
            timeMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions["Swamp Hollow"].TimePlayed
        elseif region == 'Jungle' then
            timeMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions.Jungle.TimePlayed
        else
            timeMission = game:GetService('Players')[player.Name].PlayerGui.Data.Missions.RegionMissions['Pride Rocks'].TimePlayed
        end

        if timeMission.Value then
            break
        end
        wait(5)
    end
end

-- –§–∞—Ä–º —Ä–µ–≥–∏–æ–Ω–∞
local function farmRegion(region)
    print("=== –ù–ê–ß–ò–ù–ê–ï–ú " .. region:upper() .. " ===")
    
    doRegionQuest(region)

    coroutine.wrap(function() attackNPC(region) end)()
    coroutine.wrap(function() eatAndDrink(region) end)()
    coroutine.wrap(function() doSniff(region) end)()
    coroutine.wrap(function() doConcealScent(region) end)()
    coroutine.wrap(function() waitForTimePlayed(region) end)()

    local checkFunction
    if region == 'Swamp Hollow' then
        checkFunction = allSwampHollowMissionsCompleted
    elseif region == 'Jungle' then
        checkFunction = allJungleMissionsCompleted
    else
        checkFunction = allPrideRocksMissionsCompleted
    end
    
    while running and not checkFunction() do
        wait(1)
    end

    return checkFunction()
end

-- –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–º —Ü–∏–∫–ª–æ–º
local function startFarming()
    print("üöÄ –ó–ê–ü–£–°–ö –§–ê–†–ú–ê –ú–ò–°–°–ò–ô –î–õ–Ø 3 –†–ï–ì–ò–û–ù–û–í...")
    print("üìå –°–•–ï–ú–ê: Swamp Hollow ‚Üí Jungle ‚Üí Pride Rocks")
    print("üéØ –ö–ê–ñ–î–´–ô –†–ï–ì–ò–û–ù: Mud ‚Üí Distance ‚Üí Teleport to Mud")
    
    while running do
        -- Swamp Hollow
        local swampHollowCompleted = farmRegion('Swamp Hollow')

        -- Jungle
        if swampHollowCompleted and running then
            print("üîÑ –ü–ï–†–ï–•–û–î –í JUNGLE")
            local jungleCompleted = farmRegion('Jungle')
            
            -- Pride Rocks
            if jungleCompleted and running then
                print("üîÑ –ü–ï–†–ï–•–û–î –í PRIDE ROCKS")
                local prideRocksCompleted = farmRegion('Pride Rocks')
                
                -- –ï—Å–ª–∏ –≤—Å–µ —Ä–µ–≥–∏–æ–Ω—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã, –∂–¥–µ–º —Å–±—Ä–æ—Å–∞ –º–∏—Å—Å–∏–π
                if prideRocksCompleted and running then
                    print("üéâ –í–°–ï –ú–ò–°–°–ò–ò –í 3 –†–ï–ì–ò–û–ù–ê–• –í–´–ü–û–õ–ù–ï–ù–´!")
                    wait(3)
                    
                    if not waitForMissionsReset() then
                        break
                    end
                    
                    print("=== –ó–ê–ü–£–°–ö–ê–ï–ú –§–ê–†–ú –ó–ê–ù–û–í–û ===")
                end
            end
        else
            break
        end
    end

    print("‚èπÔ∏è –§–ê–†–ú –û–°–¢–ê–ù–û–í–õ–ï–ù")
end

-- –ó–∞–ø—É—Å–∫–∞–µ–º —Ñ–∞—Ä–º —Å—Ä–∞–∑—É
startFarming()

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
function stopFarming()
    running = false
    print("üõë –§–∞—Ä–º –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")
end

print('‚úÖ –§–ê–†–ú –ú–ò–°–°–ò–ô –î–õ–Ø 3 –†–ï–ì–ò–û–ù–û–í –ó–ê–ü–£–©–ï–ù!')
print('üìå –ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û–°–¢–¨:')
print('   1. Swamp Hollow')
print('   2. Jungle') 
print('   3. Pride Rocks')
print('üéØ –°–•–ï–ú–ê –ö–ê–ñ–î–û–ì–û –†–ï–ì–ò–û–ù–ê:')
print('   ‚Ä¢ Mud Roll (7 —Ä–∞–∑)')
print('   ‚Ä¢ Distance Travelled (20 —Ü–∏–∫–ª–æ–≤)')
print('   ‚Ä¢ Teleport back to Mud')
print('üõë –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–≤–µ–¥–∏—Ç–µ: stopFarming()')
