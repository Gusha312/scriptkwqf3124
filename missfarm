-- –ü–æ–ª–Ω—ã–π —Å–∫—Ä–∏–ø—Ç: —Ñ–∞—Ä–º –º–∏—Å—Å–∏–π (–£–°–ö–û–†–ï–ù–ù–´–ô)
local VirtualInputManager = game:GetService("VirtualInputManager")
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

wait(3) -- –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–π —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –ö–î
print("üéÆ –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ (—É—Å–∫–æ—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)")

-- ========== –§–£–ù–ö–¶–ò–ò –î–õ–Ø –ö–õ–ò–ö–ê ==========
-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∫–ª–∏–∫–∞ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º
local function clickAtPosition(posX, posY)
    VirtualInputManager:SendMouseButtonEvent(posX, posY, 0, true, game, 1)
    wait(0.05) -- –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–π –ö–î
    VirtualInputManager:SendMouseButtonEvent(posX, posY, 0, false, game, 1)
end

-- –§—É–Ω–∫—Ü–∏—è –∫–ª–∏–∫–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ —ç–∫—Ä–∞–Ω–∞
local function click()
    local screen = workspace.CurrentCamera.ViewportSize
    clickAtPosition(screen.X/2, screen.Y/2)
end

-- ========== –§–£–ù–ö–¶–ò–Ø –î–õ–Ø –ü–†–û–í–ï–†–ö–ò –°–ú–ï–†–¢–ò –í–û –í–†–ï–ú–Ø –§–ê–†–ú–ê ==========
local function checkDeathDuringFarm()
    local player = game.Players.LocalPlayer
    local playerGui = player.PlayerGui
    
    local deathGui = playerGui:FindFirstChild("DeathGui")
    if deathGui and deathGui.Enabled == true then
        print("\nüíÄ –û–ë–ù–ê–†–£–ñ–ï–ù–ê –°–ú–ï–†–¢–¨ –í–û –í–†–ï–ú–Ø –§–ê–†–ú–ê!")
        
        wait(8) -- –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–π –ö–î
        
        local returnButton = deathGui.ContainerFrame.BottomFrame.ButtonsFrame.Return.UpperLabel
        
        -- –ö–ª–∏–∫–∞–µ–º –ø–æ Return
        if returnButton then
            click()
            wait(0.3)
            click()
        else
            click()
            wait(0.3)
            click()
        end
        
        -- –ñ–¥–µ–º –ø–æ–∫–∞ GUI –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–∫—Ä–æ–µ—Ç—Å—è
        wait(3) -- –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–π –ö–î
        
        -- 1. –í–´–ó–´–í–ê–ï–ú DESPAWNREMOTE –î–õ–Ø –í–´–•–û–î–ê
        print("üö™ –í—ã–∑—ã–≤–∞–µ–º DespawnRemote –¥–ª—è –≤—ã—Ö–æ–¥–∞...")
        local despawnSuccess, despawnError = pcall(function()
            game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("DespawnRemote"):InvokeServer()
            return true
        end)
        
        if despawnSuccess then
            print("‚úÖ DespawnRemote —É—Å–ø–µ—à–Ω–æ –≤—ã–∑–≤–∞–Ω")
        else
            print("‚ùå –û—à–∏–±–∫–∞ DespawnRemote: " .. tostring(despawnError))
        end
        
        wait(2) -- –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–π –ö–î
        
        -- 2. –£–î–ê–õ–ï–ù–ò–ï –°–õ–û–¢–ê
        print("üóëÔ∏è –£–¥–∞–ª—è–µ–º —Å–ª–æ—Ç Slot1...")
        local deleteSuccess, deleteError = pcall(function()
            local args = {"Slot1", false}
            ReplicatedStorage.Remotes.DeleteSlotRemote:InvokeServer(unpack(args))
            return true
        end)
        
        if deleteSuccess then
            print("‚úÖ –ó–∞–ø—Ä–æ—Å —É–¥–∞–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω")
        else
            print("‚ùå –û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è: " .. tostring(deleteError))
        end
        
        wait(3) -- –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–π –ö–î
        
        -- 3. –°–û–ó–î–ê–ù–ò–ï –ù–û–í–û–ì–û –°–õ–û–¢–ê
        print("‚ûï –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —Å–ª–æ—Ç Sochuri...")
        local createSuccess, createError = pcall(function()
            local args = {"Sochuri"}
            ReplicatedStorage.Remotes.CreateSlotRemote:InvokeServer(unpack(args))
            return true
        end)
        
        if createSuccess then
            print("‚úÖ –ó–∞–ø—Ä–æ—Å —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω")
        else
            print("‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è: " .. tostring(createError))
        end
        
        wait(3) -- –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–π –ö–î
        
        -- 4. –í–´–ü–û–õ–ù–Ø–ï–ú –ö–õ–ò–ö–ò –î–õ–Ø –í–û–ó–û–ë–ù–û–í–õ–ï–ù–ò–Ø –ò–ì–†–´
        print("üîÑ –í—ã–ø–æ–ª–Ω—è–µ–º –∫–ª–∏–∫–∏ –¥–ª—è –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–≥—Ä—ã...")
        wait(2)
        click()
        wait(1)
        click()
        
        print("‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–º–µ—Ä—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!")
        return true
    end
    
    return false
end

-- ========== –§–£–ù–ö–¶–ò–Ø –î–õ–Ø –ü–ï–†–ò–û–î–ò–ß–ï–°–ö–ò–• REMOTE –ó–ê–ü–†–û–°–û–í ==========
local function periodicRemoteRequests()
    print("‚è∞ –ó–∞–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ Remote –∑–∞–ø—Ä–æ—Å—ã...")
    
    while true do
        wait(7) -- –£–º–µ–Ω—å—à–µ–Ω–æ —Å 10 –¥–æ 7 —Å–µ–∫—É–Ω–¥
        
        print("\nüîÑ –í—ã–ø–æ–ª–Ω—è–µ–º –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ Remote –∑–∞–ø—Ä–æ—Å—ã...")
        
        -- ClaimDailyLoginRemote
        local success1, error1 = pcall(function()
            game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("ClaimDailyLoginRemote"):FireServer()
            print("‚úÖ ClaimDailyLoginRemote –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω")
        end)
        
        if not success1 then
            print("‚ö†Ô∏è –û—à–∏–±–∫–∞ ClaimDailyLoginRemote: " .. tostring(error1))
        end
        
        wait(0.3) -- –£–º–µ–Ω—å—à–µ–Ω–æ
        
        -- GetSpawnedTokenRemote
        local success3, error3 = pcall(function()
            ReplicatedStorage.Remotes.GetSpawnedTokenRemote:InvokeServer()
            print("‚úÖ GetSpawnedTokenRemote –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω")
        end)
        
        if not success3 then
            print("‚ö†Ô∏è –û—à–∏–±–∫–∞ GetSpawnedTokenRemote: " .. tostring(error3))
        end
        
        print("‚úÖ –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã")
    end
end

-- ========== –§–ê–†–ú –ú–ò–°–°–ò–ô (–£–°–ö–û–†–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø) ==========
local function startMissionFarm()
    print("\nüöÄ –ó–∞–ø—É—Å–∫–∞–µ–º –£–°–ö–û–†–ï–ù–ù–´–ô —Ñ–∞—Ä–º –º–∏—Å—Å–∏–π...")
    
    local targetPlayer = game.Players.LocalPlayer
    
    print("‚è≥ –û–∂–∏–¥–∞–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö...")
    local playerGui = targetPlayer:WaitForChild("PlayerGui")
    local data = playerGui:WaitForChild("Data")
    local missions = data:WaitForChild("Missions")
    local regionMissions = missions:WaitForChild("RegionMissions")
    
    -- –ñ–¥–µ–º —Ä–µ–º–æ—É—Ç—ã
    local ChangeRegionRemote = ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("ChangeRegionRemote")
    local SetMissionRemote = ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("SetMissionRemote")
    local MudRemote = ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("Mud")
    local FoodRemote = ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("Food")
    local DrinkRemote = ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("DrinkRemote")
    local NPCDamageRemoteBreath = ReplicatedStorage:WaitForChild("Remotes"):WaitForChild("NPCDamageRemoteBreath")
    
    -- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏–∏
    local teleportPositions = {
        Vector3.new(2818.49072, 332.279358, -118.064125),
        Vector3.new(2218.49072, 332.279358, -118.064125),
        Vector3.new(2518.49072, 332.279358, -118.064125)
    }
    
    local concealScentPosition = Vector3.new(2434.90479, 277.143066, -1289.48108)
    
    -- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
    local lastFoodDrinkTime = 0
    local lastAttackTime = 0
    local lastDeathCheck = 0
    local currentRegion = nil -- –¢–µ–∫—É—â–∏–π —Ä–µ–≥–∏–æ–Ω
    
    -- –°–ø–∏—Å–æ–∫ –º–∏—Å—Å–∏–π –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å
    local ignoreMissions = {
        ShoomPilesCollected = true
    }
    
    -- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –º–∏—Å—Å–∏–π
    function getUncompletedMissions()
        local uncompleted = {}
        
        for _, region in pairs(regionMissions:GetChildren()) do
            for _, mission in pairs(region:GetChildren()) do
                if mission:IsA("BoolValue") and not mission.Value then
                    -- –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –º–∏—Å—Å–∏–∏ –∏–∑ —Å–ø–∏—Å–∫–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã—Ö
                    if not ignoreMissions[mission.Name] then
                        table.insert(uncompleted, {
                            regionName = region.Name,
                            missionName = mission.Name,
                            missionObject = mission
                        })
                    else
                        print("‚è≠Ô∏è –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –º–∏—Å—Å–∏—é: " .. region.Name .. "." .. mission.Name)
                    end
                end
            end
        end
        
        return uncompleted
    end
    
    -- –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–º–µ–Ω—ã —Ä–µ–≥–∏–æ–Ω–∞
    function changeRegion(regionName)
        print("üìç –ú–µ–Ω—è–µ–º —Ä–µ–≥–∏–æ–Ω –Ω–∞: " .. regionName)
        currentRegion = regionName
        local args = { regionName }
        ChangeRegionRemote:FireServer(unpack(args))
        wait(0.5) -- –£–º–µ–Ω—å—à–µ–Ω–æ —Å 1 –¥–æ 0.5
    end
    
    -- –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏–∏ –∏–≥—Ä–æ–∫–∞
    function teleportPlayer(position)
        local character = targetPlayer.Character
        if character then
            local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
            if humanoidRootPart then
                humanoidRootPart.CFrame = CFrame.new(position)
                print("üìç –¢–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤: " .. tostring(position))
            end
        end
    end
    
    -- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å Part, MeshPart –∏ Model)
    function getObjectPosition(obj)
        if obj:IsA("Model") then
            -- –î–ª—è Model –∏—Å–ø–æ–ª—å–∑—É–µ–º PrimaryPart –∏–ª–∏ –ø–µ—Ä–≤—ã–π –¥–æ—á–µ—Ä–Ω–∏–π Part
            if obj.PrimaryPart then
                return obj.PrimaryPart.Position
            else
                -- –ò—â–µ–º –ª—é–±–æ–π Part –≤–Ω—É—Ç—Ä–∏ –º–æ–¥–µ–ª–∏
                for _, child in pairs(obj:GetDescendants()) do
                    if child:IsA("Part") or child:IsA("MeshPart") or child:IsA("UnionOperation") then
                        return child.Position
                    end
                end
                return obj:GetExtentsSize() / 2 -- –ó–∞–ø–∞—Å–Ω–æ–π –≤–∞—Ä–∏–∞–Ω—Ç
            end
        elseif obj:IsA("Part") or obj:IsA("MeshPart") or obj:IsA("UnionOperation") then
            -- –î–ª—è Part –∏ –ø–æ–¥–æ–±–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
            return obj.Position
        else
            -- –î–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤
            return Vector3.new(0, 0, 0)
        end
    end
    
    -- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ Grass (–µ–¥—ã) –≤ –ø–∞–ø–∫–µ Food
    function findNearestGrass()
        local character = targetPlayer.Character
        if not character then return nil end
        
        local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
        if not humanoidRootPart then return nil end
        
        local playerPos = humanoidRootPart.Position
        local nearestGrass = nil
        local nearestDistance = math.huge
        
        -- –ò—â–µ–º Grass (–µ–¥—É) –≤ –ø–∞–ø–∫–µ Interactions.Food
        local foodFolder = workspace.Interactions.Food
        if foodFolder then
            for _, foodItem in pairs(foodFolder:GetChildren()) do
                -- –ò—â–µ–º Grass –ø–æ –∏–º–µ–Ω–∏
                if foodItem.Name:lower():find("grass") then
                    local foodPos = getObjectPosition(foodItem)
                    local distance = (playerPos - foodPos).Magnitude
                    if distance < nearestDistance then
                        nearestDistance = distance
                        nearestGrass = foodItem
                    end
                end
            end
        end
        
        -- –ï—Å–ª–∏ Grass –Ω–µ –Ω–∞—à–ª–∏, –±–µ—Ä–µ–º –ª—é–±–æ–π —ç–ª–µ–º–µ–Ω—Ç –∏–∑ Food
        if not nearestGrass and foodFolder then
            local foodChildren = foodFolder:GetChildren()
            if #foodChildren > 0 then
                nearestGrass = foodChildren[1]
            end
        end
        
        return nearestGrass
    end
    
    -- –£–°–ö–û–†–ï–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –î–õ–Ø –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø –ï–î–´ –ò –í–û–î–´
    function useFoodAndWater()
        local currentTime = tick()
        if currentTime - lastFoodDrinkTime >= 1.5 then -- –£–º–µ–Ω—å—à–µ–Ω–æ —Å 2 –¥–æ 1.5
            -- –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –ü–û–ò–°–ö –ï–î–´: –ò—â–µ–º Grass (–µ–¥—É) –≤ –ø–∞–ø–∫–µ Food
            local nearestGrass = findNearestGrass()
            
            if nearestGrass then
                print("üçÉ –ù–∞–π–¥–µ–Ω Grass (–µ–¥–∞): " .. nearestGrass.Name)
                
                -- –ü–æ–ª—É—á–∞–µ–º –ø–æ–∑–∏—Ü–∏—é –æ–±—ä–µ–∫—Ç–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å Model —Ç–æ–∂–µ)
                local grassPos = getObjectPosition(nearestGrass)
                
                -- –¢–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä—É–µ–º—Å—è –∫ Grass (–µ–¥–µ)
                teleportPlayer(grassPos + Vector3.new(0, 5, 0))
                print("üìç –¢–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å –∫ Grass (–µ–¥–µ)")
                
                -- –ñ–¥–µ–º 1 —Å–µ–∫—É–Ω–¥—É (—É–º–µ–Ω—å—à–µ–Ω–æ —Å 2)
                wait(1)
                
                -- –ú–µ–Ω—è–µ–º —Ä–µ–≥–∏–æ–Ω –Ω–∞ —Ç–µ–∫—É—â–∏–π (–µ—Å–ª–∏ –æ–Ω —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
                if currentRegion then
                    print("üîÑ –ú–µ–Ω—è–µ–º —Ä–µ–≥–∏–æ–Ω –ø–æ—Å–ª–µ —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏–∏ –∫ Grass: " .. currentRegion)
                    changeRegion(currentRegion)
                end
                
                -- –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞–π–¥–µ–Ω–Ω—É—é Grass (–µ–¥—É)
                local foodArgs = { nearestGrass }
                FoodRemote:FireServer(unpack(foodArgs))
                print("üçé –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ Grass (–µ–¥–∞): " .. nearestGrass.Name)
            else
                -- –ü—Ä–æ–±—É–µ–º –æ–±—ã—á–Ω—É—é –µ–¥—É –∏–∑ –ø–∞–ø–∫–∏ Food
                local foodFolder = workspace.Interactions.Food
                local foodChildren = foodFolder:GetChildren()
                
                if #foodChildren > 0 then
                    -- –ë–µ—Ä–µ–º –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç
                    local foodItem = foodChildren[1]
                    
                    if foodItem then
                        local foodArgs = { foodItem }
                        FoodRemote:FireServer(unpack(foodArgs))
                        print("üçé –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –µ–¥–∞: " .. foodItem.Name)
                    end
                end
            end
            
            -- –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤–æ–¥—É
            local lake = workspace.Interactions.Lakes:FindFirstChild("Lake")
            if lake then
                local drinkArgs = { lake }
                DrinkRemote:FireServer(unpack(drinkArgs))
                print("üíß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –≤–æ–¥–∞")
            else
                -- –ü—Ä–æ–±—É–µ–º –Ω–∞–π—Ç–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –≤–æ–¥—ã
                local waterSource = workspace.Interactions.Lakes:FindFirstChildOfClass("Part")
                if waterSource then
                    local drinkArgs = { waterSource }
                    DrinkRemote:FireServer(unpack(drinkArgs))
                end
            end
            
            lastFoodDrinkTime = currentTime
        end
    end
    
    -- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –±–ª–∏–∂–∞–π—à–µ–≥–æ Mud –æ–±—ä–µ–∫—Ç–∞
    function findNearestMud()
        local character = targetPlayer.Character
        if not character then return nil end
        
        local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
        if not humanoidRootPart then return nil end
        
        local playerPos = humanoidRootPart.Position
        local nearestMud = nil
        local nearestDistance = math.huge
        
        local mudFolder = workspace.Interactions.Mud
        if mudFolder then
            for _, mudObject in pairs(mudFolder:GetChildren()) do
                if mudObject:IsA("Part") or mudObject:IsA("MeshPart") or mudObject:IsA("Model") then
                    local mudPos = getObjectPosition(mudObject)
                    local distance = (playerPos - mudPos).Magnitude
                    if distance < nearestDistance then
                        nearestDistance = distance
                        nearestMud = mudObject
                    end
                end
            end
        end
        
        return nearestMud
    end
    
    -- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ NPC –¥–ª—è –∞—Ç–∞–∫–∏
    function findNPCForAttack()
        -- –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ–º –Ω–∞–π—Ç–∏ Roots
        local rootsNPC = workspace.Interactions.NPCs:FindFirstChild("Roots")
        if rootsNPC then
            local rootPart = rootsNPC:FindFirstChild("RootPart")
            if rootPart then
                return rootPart
            end
        end
        
        -- –ò—â–µ–º –ª—é–±–æ–≥–æ NPC —Å RootPart
        for _, npc in pairs(workspace.Interactions.NPCs:GetChildren()) do
            local rootPart = npc:FindFirstChild("RootPart") or npc:FindFirstChild("HumanoidRootPart")
            if rootPart then
                return rootPart
            end
        end
        
        return nil
    end
    
    -- –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏–∏ –∫ NPC —Å–ø–∞–≤–Ω—É
    function teleportToRandomNPCSpawn()
        local npcSpawns = workspace.Interactions.NPCSpawns:GetChildren()
        if #npcSpawns > 0 then
            local randomSpawn = npcSpawns[math.random(1, #npcSpawns)]
            if randomSpawn then
                local spawnPos = getObjectPosition(randomSpawn)
                local spawnPosition = spawnPos + Vector3.new(0, 30, 0)
                teleportPlayer(spawnPosition)
                return true
            end
        end
        return false
    end
    
    -- –£–°–ö–û–†–ï–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –î–õ–Ø –ê–¢–ê–ö–ò NPC
    function attackNPC()
        local currentTime = tick()
        if currentTime - lastAttackTime >= 0.2 then -- –£–º–µ–Ω—å—à–µ–Ω–æ —Å 0.5 –¥–æ 0.2
            local targetNPC = findNPCForAttack()
            if targetNPC then
                local attackArgs = { { targetNPC } }
                NPCDamageRemoteBreath:FireServer(unpack(attackArgs))
                lastAttackTime = currentTime
                return true
            end
        end
        return false
    end
    
    -- –£–°–ö–û–†–ï–ù–ù–û–ï –í–´–ü–û–õ–ù–ï–ù–ò–ï –ú–ò–°–°–ò–ò Sniff
    function completeSniffMission(regionName)
        print("üîÑ –í—ã–ø–æ–ª–Ω—è–µ–º Sniff –≤ —Ä–µ–≥–∏–æ–Ω–µ: " .. regionName)
        
        changeRegion(regionName)
        
        local missionCompleted = false
        local attempts = 0
        
        while not missionCompleted and attempts < 25 do -- –£–º–µ–Ω—å—à–µ–Ω–æ —Å 40 –¥–æ 25
            attempts = attempts + 1
            
            if attempts % 5 == 0 then -- –ï–¥–∞/–≤–æ–¥–∞ –∫–∞–∂–¥—ã–µ 5 –ø–æ–ø—ã—Ç–æ–∫
                useFoodAndWater()
            end
            
            local missionArgs = { 1 }
            SetMissionRemote:FireServer(unpack(missionArgs))
            
            local regionFolder = regionMissions:FindFirstChild(regionName)
            if regionFolder then
                local sniffMission = regionFolder:FindFirstChild("Sniff")
                if sniffMission and sniffMission.Value then
                    missionCompleted = true
                    print("‚úÖ Sniff –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ —Ä–µ–≥–∏–æ–Ω–µ " .. regionName)
                else
                    print("‚è≥ Sniff... (" .. attempts .. "/25)")
                end
            end
            
            if not missionCompleted then
                wait(0.8) -- –£–º–µ–Ω—å—à–µ–Ω–æ —Å 1.5 –¥–æ 0.8
            end
        end
        
        return missionCompleted
    end
    
    -- –£–°–ö–û–†–ï–ù–ù–û–ï –í–´–ü–û–õ–ù–ï–ù–ò–ï –ú–ò–°–°–ò–ò ConcealScent
    function completeConcealScentMission(regionName)
        print("üîÑ –í—ã–ø–æ–ª–Ω—è–µ–º ConcealScent –≤ —Ä–µ–≥–∏–æ–Ω–µ: " .. regionName)
        
        changeRegion(regionName)
        
        teleportPlayer(concealScentPosition)
        wait(1) -- –£–º–µ–Ω—å—à–µ–Ω–æ
        
        changeRegion(regionName)
        
        local missionCompleted = false
        local attempts = 0
        
        while not missionCompleted and attempts < 40 do -- –£–º–µ–Ω—å—à–µ–Ω–æ —Å 60 –¥–æ 40
            attempts = attempts + 1
            
            if attempts % 10 == 0 then -- –ï–¥–∞/–≤–æ–¥–∞ –∫–∞–∂–¥—ã–µ 10 –ø–æ–ø—ã—Ç–æ–∫
                useFoodAndWater()
            end
            
            local nearestMud = findNearestMud()
            if nearestMud then
                local mudArgs = { nearestMud }
                MudRemote:FireServer(unpack(mudArgs))
            end
            
            local regionFolder = regionMissions:FindFirstChild(regionName)
            if regionFolder then
                local concealMission = regionFolder:FindFirstChild("ConcealScent")
                if concealMission and concealMission.Value then
                    missionCompleted = true
                    print("‚úÖ ConcealScent –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ —Ä–µ–≥–∏–æ–Ω–µ " .. regionName)
                else
                    print("‚è≥ ConcealScent... (" .. attempts .. "/40)")
                end
            end
            
            if not missionCompleted then
                wait(0.5) -- –£–º–µ–Ω—å—à–µ–Ω–æ —Å 1 –¥–æ 0.5
            end
        end
        
        return missionCompleted
    end
    
    -- –£–°–ö–û–†–ï–ù–ù–û–ï –í–´–ü–û–õ–ù–ï–ù–ò–ï –ú–ò–°–°–ò–ò EatFoodDrinkWater
    function completeEatFoodDrinkWaterMission(regionName)
        print("üîÑ –í—ã–ø–æ–ª–Ω—è–µ–º EatFoodDrinkWater –≤ —Ä–µ–≥–∏–æ–Ω–µ: " .. regionName)
        
        changeRegion(regionName)
        
        local missionCompleted = false
        local attempts = 0
        
        while not missionCompleted and attempts < 15 do -- –£–º–µ–Ω—å—à–µ–Ω–æ —Å 30 –¥–æ 15
            attempts = attempts + 1
            
            useFoodAndWater()
            
            local regionFolder = regionMissions:FindFirstChild(regionName)
            if regionFolder then
                local eatMission = regionFolder:FindFirstChild("EatFoodDrinkWater")
                if eatMission and eatMission.Value then
                    missionCompleted = true
                    print("‚úÖ EatFoodDrinkWater –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ —Ä–µ–≥–∏–æ–Ω–µ " .. regionName)
                else
                    print("‚è≥ EatFoodDrinkWater... (" .. attempts .. "/15)")
                end
            end
            
            if not missionCompleted then
                wait(1) -- –£–º–µ–Ω—å—à–µ–Ω–æ —Å 2 –¥–æ 1
            end
        end
        
        return missionCompleted
    end
    
    -- –£–°–ö–û–†–ï–ù–ù–û–ï –í–´–ü–û–õ–ù–ï–ù–ò–ï –ú–ò–°–°–ò–ò AttackOrHealCreatureOrNPC
    function completeAttackOrHealMission(regionName)
        print("üîÑ –í—ã–ø–æ–ª–Ω—è–µ–º AttackOrHealCreatureOrNPC –≤ —Ä–µ–≥–∏–æ–Ω–µ: " .. regionName)
        
        changeRegion(regionName)
        
        if teleportToRandomNPCSpawn() then
            wait(1) -- –£–º–µ–Ω—å—à–µ–Ω–æ
            changeRegion(regionName)
        end
        
        local missionCompleted = false
        local attempts = 0
        
        while not missionCompleted and attempts < 60 do -- –£–º–µ–Ω—å—à–µ–Ω–æ —Å 100 –¥–æ 60
            attempts = attempts + 1
            
            if attempts % 15 == 0 then -- –ï–¥–∞/–≤–æ–¥–∞ –∫–∞–∂–¥—ã–µ 15 –ø–æ–ø—ã—Ç–æ–∫
                useFoodAndWater()
            end
            
            attackNPC()
            
            -- –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏—Å—Å–∏–∏
            local regionFolder = regionMissions:FindFirstChild(regionName)
            if regionFolder then
                local attackMission = regionFolder:FindFirstChild("AttackOrHealCreatureOrNPC")
                if attackMission and attackMission.Value then
                    missionCompleted = true
                    print("‚úÖ AttackOrHealCreatureOrNPC –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ —Ä–µ–≥–∏–æ–Ω–µ " .. regionName)
                    break
                end
            end
            
            if not missionCompleted then
                wait(0.3) -- –£–º–µ–Ω—å—à–µ–Ω–æ —Å 0.5 –¥–æ 0.3
            end
        end
        
        return missionCompleted
    end
    
    -- –£–°–ö–û–†–ï–ù–ù–û–ï –í–´–ü–û–õ–ù–ï–ù–ò–ï –ú–ò–°–°–ò–ò DistanceTravelled
    function completeDistanceTravelledMission(regionName)
        print("üîÑ –í—ã–ø–æ–ª–Ω—è–µ–º DistanceTravelled –≤ —Ä–µ–≥–∏–æ–Ω–µ: " .. regionName)
        
        changeRegion(regionName)
        
        local missionCompleted = false
        local attempts = 0
        
        while not missionCompleted and attempts < 50 do -- –£–º–µ–Ω—å—à–µ–Ω–æ —Å 100 –¥–æ 50
            attempts = attempts + 1
            
            useFoodAndWater()
            
            for i, pos in ipairs(teleportPositions) do
                teleportPlayer(pos)
                wait(1) -- –£–º–µ–Ω—å—à–µ–Ω–æ —Å 2 –¥–æ 1
                
                if i == 1 then
                    changeRegion(regionName)
                end
                
                -- –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏—Å—Å–∏–∏
                local regionFolder = regionMissions:FindFirstChild(regionName)
                if regionFolder then
                    local distanceMission = regionFolder:FindFirstChild("DistanceTravelled")
                    if distanceMission and distanceMission.Value then
                        missionCompleted = true
                        print("‚úÖ DistanceTravelled –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ —Ä–µ–≥–∏–æ–Ω–µ " .. regionName)
                        break
                    end
                end
                
                if missionCompleted then
                    break
                end
            end
            
            if not missionCompleted then
                print("‚è≥ DistanceTravelled... (" .. attempts .. "/50)")
            end
        end
        
        return missionCompleted
    end
    
    -- –£–°–ö–û–†–ï–ù–ù–û–ï –í–´–ü–û–õ–ù–ï–ù–ò–ï –ú–ò–°–°–ò–ò TimePlayed
    function completeTimePlayedMission(regionName)
        print("üîÑ –í—ã–ø–æ–ª–Ω—è–µ–º TimePlayed –≤ —Ä–µ–≥–∏–æ–Ω–µ: " .. regionName)
        print("‚è∞ –û–∂–∏–¥–∞–µ–º...")
        
        changeRegion(regionName)
        
        local missionCompleted = false
        local checkCount = 0
        
        while not missionCompleted do
            checkCount = checkCount + 1
            
            if checkCount % 3 == 0 then -- –ï–¥–∞/–≤–æ–¥–∞ –∫–∞–∂–¥—ã–µ 3 –ø—Ä–æ–≤–µ—Ä–∫–∏
                useFoodAndWater()
            end
            
            -- –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –ø–æ—è–≤–∏–ª–∏—Å—å –ª–∏ –¥—Ä—É–≥–∏–µ –º–∏—Å—Å–∏–∏
            local otherMissions = getUncompletedMissions()
            for _, mission in ipairs(otherMissions) do
                if mission.missionName ~= "TimePlayed" then
                    print("‚ö†Ô∏è –ü–æ—è–≤–∏–ª–∏—Å—å –¥—Ä—É–≥–∏–µ –º–∏—Å—Å–∏–∏! –ü—Ä–µ—Ä—ã–≤–∞–µ–º TimePlayed")
                    return false
                end
            end
            
            local regionFolder = regionMissions:FindFirstChild(regionName)
            if regionFolder then
                local timeMission = regionFolder:FindFirstChild("TimePlayed")
                if timeMission and timeMission.Value then
                    missionCompleted = true
                    print("‚úÖ TimePlayed –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ —Ä–µ–≥–∏–æ–Ω–µ " .. regionName)
                    break
                else
                    if checkCount % 5 == 0 then
                        print("‚è≥ TimePlayed... (" .. checkCount .. " –ø—Ä–æ–≤–µ—Ä–æ–∫)")
                    end
                end
            end
            
            wait(5) -- –£–º–µ–Ω—å—à–µ–Ω–æ —Å 10 –¥–æ 5
        end
        
        return missionCompleted
    end
    
    -- –£–°–ö–û–†–ï–ù–ù–ê–Ø –û–°–ù–û–í–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –§–ê–†–ú–ê
    function autoCompleteAllMissions()
        print("üöÄ –ó–∞–ø—É—Å–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –º–∏—Å—Å–∏–π (—É—Å–∫–æ—Ä–µ–Ω–Ω—ã–π)...")
        
        while true do
            -- –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–º–µ—Ä—Ç—å –≤–æ –≤—Ä–µ–º—è —Ñ–∞—Ä–º–∞
            if checkDeathDuringFarm() then
                print("üîÑ –ü–æ—Å–ª–µ —Å–º–µ—Ä—Ç–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ñ–∞—Ä–º...")
                wait(3) -- –£–º–µ–Ω—å—à–µ–Ω–æ
            end
            
            local uncompleted = getUncompletedMissions()
            
            if #uncompleted == 0 then
                print("üéâ –í—Å–µ –º–∏—Å—Å–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã!")
                wait(5) -- –£–º–µ–Ω—å—à–µ–Ω–æ
            else
                print("üìã –ù–∞–π–¥–µ–Ω–æ –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –º–∏—Å—Å–∏–π: " .. #uncompleted)
                
                for i, mission in ipairs(uncompleted) do
                    print("\nüéØ –ú–∏—Å—Å–∏—è " .. i .. "/" .. #uncompleted .. ": " .. mission.regionName .. " - " .. mission.missionName)
                    
                    local success = false
                    
                    if mission.missionName == "Sniff" then
                        success = completeSniffMission(mission.regionName)
                    elseif mission.missionName == "ConcealScent" then
                        success = completeConcealScentMission(mission.regionName)
                    elseif mission.missionName == "EatFoodDrinkWater" then
                        success = completeEatFoodDrinkWaterMission(mission.regionName)
                    elseif mission.missionName == "AttackOrHealCreatureOrNPC" then
                        success = completeAttackOrHealMission(mission.regionName)
                    elseif mission.missionName == "DistanceTravelled" then
                        success = completeDistanceTravelledMission(mission.regionName)
                    elseif mission.missionName == "TimePlayed" then
                        success = completeTimePlayedMission(mission.regionName)
                    else
                        print("‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø –º–∏—Å—Å–∏–∏: " .. mission.missionName)
                    end
                    
                    if success then
                        print("‚úÖ –£—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ!")
                    else
                        print("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å")
                    end
                    
                    wait(0.5) -- –£–º–µ–Ω—å—à–µ–Ω–æ
                end
                
                print("\nüîÑ –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –Ω–æ–≤—ã—Ö –º–∏—Å—Å–∏–π...")
                wait(3) -- –£–º–µ–Ω—å—à–µ–Ω–æ
            end
        end
    end
    
    -- –ó–∞–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
    spawn(periodicRemoteRequests)
    
    -- –ó–∞–ø—É—Å–∫–∞–µ–º —Ñ–∞—Ä–º –º–∏—Å—Å–∏–π
    autoCompleteAllMissions()
end

-- ========== –ì–õ–ê–í–ù–ê–Ø –õ–û–ì–ò–ö–ê ==========
print("\n" .. string.rep("=", 50))
print("üîß –ó–ê–ü–£–°–ö –°–ö–†–ò–ü–¢–ê (–£–°–ö–û–†–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø)")
print(string.rep("=", 50))

print("\n" .. string.rep("=", 50))
print("üîß –ó–∞–ø—É—Å–∫–∞–µ–º —Ñ–∞—Ä–º –º–∏—Å—Å–∏–π")
print(string.rep("=", 50))
print("‚è≥ –ñ–¥–µ–º 2 —Å–µ–∫—É–Ω–¥—ã...")
wait(2)

startMissionFarm()

print("\n‚ú® –°–ö–†–ò–ü–¢ –ó–ê–í–ï–†–®–ï–ù!")
